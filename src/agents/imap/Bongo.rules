# -*- Makefile -*-
sbin_PROGRAMS += bongoimap

bongoimap_SOURCES :=				\
	src/agents/imap/imapd.c			\
	src/agents/imap/imapd.h			\
	src/agents/imap/copy.c			\
	src/agents/imap/event.c			\
	src/agents/imap/fetch.c			\
	src/agents/imap/fetch.h			\
	src/agents/imap/store.c			\
	src/agents/imap/store.h			\
	src/agents/imap/search.c		\
	src/agents/imap/search.h		\
	src/agents/imap/session.c		\
	src/agents/imap/rfc822parse.c		\
	src/agents/imap/rfc822parse.h		\
	src/agents/imap/uid.c			\
	src/agents/imap/inline.h

bongoimap_LDADD :=					   \
	libbongonmap.la					   \
	libbongomsgapi.la				   \
	libbongologger.la				   \
	libbongoconnio.la				   \
	libbongomemmgr.la				   \
	libbongoutil.la					   \
	libbongoxpl.la					   \
	$(top_builddir)/import/log4c/log4c/libbongolog4c.la \
	$(PTHREAD_LIBS)					   \
	$(ALL_LIBS)

src/agents/imap/all: bongoimap src/agents/imap/tests/all
src/agents/imap/clean: clean
src/agents/imap/install:
	@cd $(top_builddir) && $(MAKE) $(MFLAGS) sbin_PROGRAMS=bongoimap install-sbinPROGRAMS
