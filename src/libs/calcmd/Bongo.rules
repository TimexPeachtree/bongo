# -*- Makefile -*-
lib_LTLIBRARIES += libbongocalcmd.la

libbongocalcmd_la_SOURCES =			\
	src/libs/calcmd/parsecmd.y		\
	src/libs/calcmd/calcmd.c

libbongocalcmd_la_LIBADD =			\
	libbongocal.la				\
	libbongomemmgr.la			\
	libbongoxpl.la

check_PROGRAMS += parsecmd

parsecmd_SOURCES = src/libs/calcmd/test.c

parsecmd_LDADD =				\
	libbongomsgapi.la			\
	libbongologger.la			\
	libbongoconnio.la			\
	libbongomemmgr.la			\
	libbongoutil.la				\
	libbongoxpl.la				\
	libbongocalcmd.la			\
	libbongocal.la				\
	$(PTHREAD_LIBS)				\
	$(ALL_LIBS)

dist_noinst_DATA += \
	src/libs/calcmd/test.pl			\
	src/libs/calcmd/test.dat

src/libs/calcmd/all: libbongocalcmd.la parsecmd
src/libs/calcmd/clean: clean
