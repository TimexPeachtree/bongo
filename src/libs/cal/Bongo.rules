# -*- Makefile -*-
lib_LTLIBRARIES += libbongocal.la

libbongocal_la_SOURCES =			    \
	src/libs/cal/bongo-cal-object.c		\
	src/libs/cal/bongo-cal-instance.c	\
	src/libs/cal/bongo-cal-private.h		\
	src/libs/cal/bongo-cal-recur.c		\
	src/libs/cal/bongo-cal-time.c		\
	src/libs/cal/bongo-cal-timezone.c	\
	src/libs/cal/cal-convert.c

libbongocal_la_CPPFLAGS = $(AM_CPPFLAGS)	\
	-DZONEINFODIR=\""$(datadir)/bongo/zoneinfo"\" \
	$(LIBICAL_CFLAGS)

libbongocal_la_LIBADD =						   \
        libbongomemmgr.la					   \
        libbongoutil.la						   \
        libbongoxpl.la						   \
        libbongo-json.la						   \
        libbongoconnio.la                       \
        $(LIBICAL_LIBS)						   \
        $(PTHREAD_LIBS)						   \
        $(ALL_LIBS)

noinst_PROGRAMS += bongo-import-tz

bongo_import_tz_SOURCES = src/libs/cal/bongo-import-tz.c
bongo_import_tz_LDADD = libbongocal.la $(LIBICAL_LIBS)
bongo_import_tz_CPPFLAGS = $(AM_CPPFLAGS) $(LIBICAL_CFLAGS)\
	-I$(top_srcdir)/src/libs/cal

src/libs/cal/all: libbongocal.la bongo-import-tz
src/libs/cal/clean: clean
